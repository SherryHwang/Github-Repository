#include "LATTICE.h"
#include "Delay.h"
//左边的显示字模库
uchar code left[10][8]={0xf0,0x90,0x90,0x90,0x90,0x90,0x90,0xf0,//0
                                0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,//1
                                0xf0,0x10,0x10,0xf0,0x80,0x80,0x80,0xf0,//2
                                0xf0,0x10,0x10,0xf0,0x10,0x10,0x10,0xf0,
                                0xa0,0xa0,0xa0,0xf0,0x20,0x20,0x20,0x20,
                                0xf0,0x80,0x80,0xf0,0x10,0x10,0x10,0xf0,
                                0xf0,0x80,0x80,0xf0,0x90,0x90,0x90,0xf0,
                                0xf0,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
	                              0xf0,0x90,0x90,0xf0,0x90,0x90,0x90,0xf0,
	                              0xf0,0x90,0x90,0xf0,0x10,0x10,0x10,0xf0
};
//右边的显示字模库
uchar code right[10][8]={0x0f,0x09,0x09,0x09,0x09,0x09,0x09,0x0f,//0
                                 0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,//1
                                 0x0f,0x01,0x01,0x0f,0x08,0x08,0x08,0x0f,//2
                                 0x0f,0x01,0x01,0x0f,0x01,0x01,0x01,0x0f,//3
                                 0x0a,0x0a,0x0a,0x0f,0x02,0x02,0x02,0x02,//4
                                 0x0f,0x08,0x08,0x0f,0x01,0x01,0x01,0x0f,//5
                                 0x0f,0x08,0x08,0x0f,0x09,0x09,0x09,0x0f,//6
                                 0x0f,0x01,0x01,0x01,0x01,0x01,0x01,0x01,//7
	                               0x0f,0x09,0x09,0x0f,0x09,0x09,0x09,0x0f,//8
	                               0x0f,0x09,0x09,0x0f,0x01,0x01,0x01,0x0f//9
};

void Lattice_Select_Row(uchar row)//行译码
{
	LED8X8_RowSelect0  =  row/4;          //5-C
	LED8X8_RowSelect1  =  row/2%2;        //6-B
	LED8X8_RowSelect2  =  row%2;          //7-A
}

void Lattice_Show(uint n)//点阵显示函数
{
	uchar i,j,ten,one;
	ten=n/10;one=n%10;
	for(j=0;j<10;j++)
	{
	  for(i=0;i<8;i++)
	  {
		  Lattice_Select_Row(i);
	  	P0=left[ten][i]+right[one][i];
		  Delay_us(20);
  	}
  }
}